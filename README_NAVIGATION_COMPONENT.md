Navigation Component

Navigation Component — это библиотека от Google, предназначенная для упрощения навигации в приложениях на платформе Android. Она помогает разработчикам управлять переходами между фрагментами и активностями, а также упрощает создание "глубокой" навигации. Вот основные особенности и преимущества Navigation Component:

- Простота реализации: Navigation Component позволяет вам легко управлять навигацией с помощью визуального редактора в Android Studio, что делает процесс интуитивно понятным.

- Graph Navigation: Вы создаете граф навигации (navigation graph), который представляет собой диаграмму потоков между различными экранами приложения. Это можно сделать с помощью XML-файла, где указаны все маршруты и сохраняются данные о переходах.

- Safe Args: Эта функция позволяет безопасно передавать данные между фрагментами (или активностями) при навигации. Вы избегаете риска ошибок времени выполнения, связанных с использованием "bundle".

- Поддержка Deep Link: Navigation Component поддерживает deep links, что позволяет пользователям переходить на конкретные экраны вашего приложения из внешних источников.

- ViewModel и состояние UI: Компонент хорошо работает с ViewModel из Android Architecture Components, что способствует сохранению состояния пользовательского интерфейса при смене конфигурации (например, поворот экрана).

- Поддержка навигационного контроллера: Navigation Component использует NavController для управления навигацией, что упрощает обработку стека фрагментов и навигационных действий.

- Интеграция с Bottom Navigation и Drawer: Вы можете легко интегрировать Navigation Component с Bottom Navigation View и Navigation Drawer, что делает навигацию по приложению более интеллектуальной и организованной.

Использование Navigation Component значительно упрощает управление навигацией в приложениях Android и позволяет разработать более чистый и поддерживаемый код.
 
Необходимо добавить зависимость в проект:

  ![image](https://github.com/user-attachments/assets/687a6eb0-c350-4779-ab82-c7989a4fc4c0)

Можно скопировать:

implementation 'android.arch.navigation:navigation-fragment:2.5.3'
implementation 'android.arch.navigation:navigation-ui:2.5.3'

Или так:

implementation(libs.navigation.fragment)
implementation(libs.navigation.ui)

Далее необходимо создать Android resourse папку:

   ![image](https://github.com/user-attachments/assets/7f71c987-9b30-41da-b078-bedb28982f86)

В ней нужно создать xml файл.

В контексте Navigation Component, host (или "хост") — это специальный элемент, который предоставляет контекст для навигации в приложении. Это контейнер, в котором происходит навигация между фрагментами или активностями. Хост отвечает за отображение и управление отображаемыми фрагментами, а также за взаимодействие с навигационным графом.

NavHostFragment: Наиболее распространённый вид хоста — это NavHostFragment. Это фрагмент, который используется для управления навигацией внутри приложения. Он отслеживает текущий фрагмент и обновляет его в зависимости от выбранного маршрута навигации.

FragmentContainerView — это специальный вид контейнера в Android, который предназначен для размещения фрагментов. Он был введен с целью улучшения работы с фрагментами по сравнению с традиционными ViewGroup, такими как FrameLayout.

Ключевые преимущества и особенности FragmentContainerView:

- Оптимизация работы с фрагментами: Этот контейнер лучше подходит для управления фрагментами и упрощает взаимодействие между ними.

- Поддержка анимации: FragmentContainerView более эффективно поддерживает анимации при добавлении, замене и удалении фрагментов.

- Наследование от ViewGroup: Хотя он наследует от ViewGroup, он предоставляет особую функциональность для работы с фрагментами, позволяя правильно управлять их жизненным циклом.

  ![image](https://github.com/user-attachments/assets/7ab18b37-f45c-4b5a-8ded-fa48262fe984)
   
Далее определяем между какими фрагментами будем переходить в main_graph:
это можно сделать как через xml код так и через окно design:
 
  ![image](https://github.com/user-attachments/assets/09f606e5-2256-4eaa-aea9-6d3aa809cc16)

 ![image](https://github.com/user-attachments/assets/bb386a26-7659-492f-a247-4c5ca0c117da)


Далее необходимо получить контоллер (navController):
  
  ![image](https://github.com/user-attachments/assets/b3151732-66c2-4eb9-88e9-51f879eb2b2b)

Блягодаря этому контроллеру мы можем осуществлять навигацию. 

findNavController — это метод в Android, предоставляемый Navigation Component, который позволяет получить доступ к контроллеру навигации во фрагментах (NavController) для управления навигацией в приложении. 
 

•	Передача информации между фрагментами в Navigation Component

  ![image](https://github.com/user-attachments/assets/8984e9ad-3944-471e-a095-1b33965d9de9)

•	Options
Третий параметр, который мы можем передать в navigate() - это options, в котором можно будет определить анимацию и кнопку назад. 

  ![image](https://github.com/user-attachments/assets/553e39ea-529b-4f57-a2f8-61b8ac33f369)

Можно написать так:
 
Навигироваться также можно в активити:

  ![image](https://github.com/user-attachments/assets/e451bcb6-03b8-434f-8909-337692791abc)

Стоит учесть, что один navigation graph работает только с одним активити. Если уходим в другой активити, то у него должен быть свой navigation graph.


•	Nested Graph в Android Studio

В Android Studio при создании приложений с использованием библиотеки Jetpack Navigation можно встретиться с понятием nested graph (вложенный граф). Это позволяет вам структурировать логику навигации, разделяя вашу навигацию на логически связанные группы.

Что такое Nested Graph?
Nested Graph (вложенный граф) предоставляет способ инкапсулировать и переиспользовать логику навигации в рамках одного большого графа навигации. Например, у вас может быть общий граф навигации для всего приложения, и внутри него вы можете создавать вложенные графы для отдельных модулей/экранов (например, разделы профиля, настроек или авторизации). Это помогает:

1. Поддерживать код: Упрощается организация кода благодаря модульности.
2. Повторное использование: Вложенные графы можно применять в разных частях приложения.
3. Логическая организация: Помогает разделять ответственность каждого раздела приложения.
 
 ![image](https://github.com/user-attachments/assets/b416e72f-4b13-46af-b405-9bc17051df1e)

•	include

<include>` — это специальный тег в XML-разметке Android, который позволяет переиспользовать один и тот же макет (layout) в разных частях приложения. Он помогает сократить дублирование кода и сделать XML-файлы чище и модульными.

Почему использовать <include>?
1. **Переиспользование XML:** Макеты, которые вы хотите использовать в нескольких местах, можно вынести в отдельный файл.
2. **Упрощение поддержки:** Если разметка изменится, вам нужно обновить только общий XML, а не каждый файл.
3. **Экономия времени:** Уменьшает необходимость двойной работы при аналогичных изменениях.

Как использовать `<include>`?
Использование `<include>` предполагает, что вы вынесли разметку в отдельный XML-файл (например, `toolbar.xml`), а затем подключаете его в основном макете.
 

  

Также можно переопределять его layout-параметры. Скрин выше.

Использование include в navigation component:
 
`Navigation-UI` — это часть библиотеки **Jetpack Navigation** в Android. Она предназначена для упрощения работы с навигацией в приложениях. С помощью `Navigation-UI` разработчики могут интегрировать навигацию в `BottomNavigationView`, `Toolbar`, `ActionBar` или другие элементы интерфейса без лишнего кода — все делается автоматически, подключив библиотеку.

 

Теперь не нужно писать столько кода, сколько мы писали до этого при подключении Bottom Navigation. Айдишники в menu и в nav_graph должны совпадать.
 


•	Safe Args (Safe Arguments) — это плагин, который является частью библиотеки **Jetpack Navigation**, предоставляющий безопасный и удобный способ передачи аргументов между фрагментами или действиями (activities) при использовании навигации.
 
 


 


